---
title: "1760D: Challenging Valleys"
url: "https://codeforces.com/contest/1760/problem/D"
author: "CodeForces"
tags: ["Implementation", "Two Pointers", "Minima and Maxima"]
languages: ["C++"]
date: "2023-01-26"
---

If the curve has more than two local minima, then it must also have a local maximum, and hence it contains a peak. Valleys only, around here.

<CH.Code>

```cpp
#if NOT_LINUX
#include "macos_includes.h"
#else
#include <bits/stdc++.h>
#endif

#if LOCAL
#include "debug.h"
#include "gxlib.h"
#else
#define dbg(...) 'x'
#endif

using namespace std;
using ll = long long;
const char nl = '\n';
const int MAX_INT = std::numeric_limits<int>::max();
const ll MAX_LL = std::numeric_limits<ll>::max();

void solve() {
  int n;
  cin >> n;
  vector<ll> a(n), adjR(n), adjL(n);
  for (auto& i : a) {
    cin >> i;
  }

  a.erase(unique(a.begin(), a.end()), a.end());

  int minima = 0;

  int m = a.size();

  for (int i = 0; i < m; ++i) {
    if (i == 0) {
      if (a[i] < a[i+1])
        minima++;

      continue;
    } else if (i == m-1) {
      if (a[i] < a[i-1])
        minima++;

      continue;
    }

    if (a[i-1] > a[i] && a[i] < a[i+1])
      minima++;

    if (minima >= 2) break;
  }

  if (minima < 2) {
    cout << "YES\n";
  } else {
    cout << "NO\n";
  }
}


int main() {
  ios::sync_with_stdio(false);
  cin.tie(nullptr);

  int t;
  cin >> t;
  for (int tc = 1; tc <= t; ++tc) {
    //cout << "Case " << tc << ":\n";
    solve();
  }
  return 0;
}

```

</CH.Code>
